.. 
   Input file: fe/ips/udma/udma_hyperbus_octospi/README.md

Register map
^^^^^^^^^^^^


Overview
""""""""


Refer to :ref:`GAP9 address map<REF_MEMORY_MAP_DETAIL>` for the base address to be used.

.. table:: 
    :align: center
    :widths: 40 12 12 90

    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |                        Name                         |Offset|Width|                        Description                        |
    +=====================================================+======+=====+===========================================================+
    |:ref:`RX_DEST<udma_hyper__RX_DEST>`                  |     0|   32|Stream ID for the uDMA channel                             |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TX_DEST<udma_hyper__TX_DEST>`                  |     4|   32|Stream ID for the uDMA channel                             |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_MODE<udma_hyper__TRANS_MODE>`            |     8|   32|Configure transaction mode                                 |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_ADDR<udma_hyper__TRANS_ADDR>`            |    12|   32|Configure each transaction addr                            |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_SIZE<udma_hyper__TRANS_SIZE>`            |    16|   32|Configure each transaction size                            |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TRANS_CFG<udma_hyper__TRANS_CFG>`              |    20|   32|Start  each transaction rx/tx                              |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CMD_XIP<udma_hyper__OSPI_CMD_XIP>`        |    24|   32|OSPI XIP command and psram command config                  |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CFG_XIP<udma_hyper__OSPI_CFG_XIP>`        |    28|   32|OSPI XIP configuration                                     |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`EXT_ADDR<udma_hyper__EXT_ADDR>`                |    32|   32|Memory access address register.                            |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`TIMING_CFG<udma_hyper__TIMING_CFG>`            |    36|   32|HYPERBUS and Octo SPI Memory Timing configuration register.|
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`MBA0<udma_hyper__MBA0>`                        |    40|   32|Device start address register.                             |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`MBA1<udma_hyper__MBA1>`                        |    44|   32|Device start address register.                             |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`DEVICE<udma_hyper__DEVICE>`                    |    48|   32|Device type register(RAM or FLASH).                        |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CMD<udma_hyper__OSPI_CMD>`                |    52|   32|OSPI command and psram command config                      |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_ALTER<udma_hyper__OSPI_ALTER>`            |    56|   32|OSPI alternative 2 bytes                                   |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CFG<udma_hyper__OSPI_CFG>`                |    60|   32|OSPI configuration                                         |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_CSN<udma_hyper__OSPI_CSN>`                |    64|   32|OSPI chip select configuration                             |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_JEDEC_RESET<udma_hyper__OSPI_JEDEC_RESET>`|    68|   32|OSPI JEDEC Hardware Reset, user can control sdo0 manually  |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_RAM_OPT<udma_hyper__OSPI_RAM_OPT>`        |    72|   32|OSPI RAM DATA transfer optimisation, only in auto mode     |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_ALTER_XIP<udma_hyper__OSPI_ALTER_XIP>`    |    76|   32|OSPI XIP alternative 2 bytes                               |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`OSPI_REG_XIP<udma_hyper__OSPI_REG_XIP>`        |    80|   32|OSPI XIP other configuration                               |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`LINE_2D<udma_hyper__LINE_2D>`                  |    84|   32|OSPI 2D line.                                              |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`STRIDE_2D<udma_hyper__STRIDE_2D>`              |    88|   32|OSPI 2D stride.                                            |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`BURST_ENABLE<udma_hyper__BURST_ENABLE>`        |    92|   32|OSPI burst mode/2D mode enable.                            |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`IRQ_EN<udma_hyper__IRQ_EN>`                    |    96|   32|OSPI interrupt enable register                             |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`CLK_DIV<udma_hyper__CLK_DIV>`                  |   100|   32|Clock divide.                                              |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`STATUS<udma_hyper__STATUS>`                    |   104|   32|Transfer status for error.                                 |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_CMD_ARG<udma_hyper__SDIO_CMD_ARG>`        |   108|   32|SDIO command argument.                                     |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP0<udma_hyper__SDIO_RSP0>`              |   112|   32|SDIO response 0.                                           |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP1<udma_hyper__SDIO_RSP1>`              |   116|   32|SDIO response 1.                                           |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP2<udma_hyper__SDIO_RSP2>`              |   120|   32|SDIO response 2.                                           |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+
    |:ref:`SDIO_RSP3<udma_hyper__SDIO_RSP3>`              |   124|   32|SDIO response 3.                                           |
    +-----------------------------------------------------+------+-----+-----------------------------------------------------------+

.. _udma_hyper__RX_DEST:

RX_DEST
"""""""

Stream ID for the uDMA channel

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----------+-----+---------------------------------------------------------------------------+
    |Bit #|R/W|   Name    |Reset|                                Description                                |
    +=====+===+===========+=====+===========================================================================+
    |7:0  |R/W|DEST       |0xFF |Stream ID for the RX 1D/2D uDMA channel. Default is 0xFF(channel disabled) |
    +-----+---+-----------+-----+---------------------------------------------------------------------------+
    |15:8 |R/W|DEST_STREAM|0xFF |Stream ID for the RX STREAM uDMA channel. Default is 0xFF(channel disabled)|
    +-----+---+-----------+-----+---------------------------------------------------------------------------+

.. _udma_hyper__TX_DEST:

TX_DEST
"""""""

Stream ID for the uDMA channel

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----------+-----+---------------------------------------------------------------------------+
    |Bit #|R/W|   Name    |Reset|                                Description                                |
    +=====+===+===========+=====+===========================================================================+
    |7:0  |R/W|DEST       |0xFF |Stream ID for the TX 1D/2D uDMA channel. Default is 0xFF(channel disabled) |
    +-----+---+-----------+-----+---------------------------------------------------------------------------+
    |15:8 |R/W|DEST_STREAM|0xFF |Stream ID for the TX STREAM uDMA channel. Default is 0xFF(channel disabled)|
    +-----+---+-----------+-----+---------------------------------------------------------------------------+

.. _udma_hyper__TRANS_MODE:

TRANS_MODE
""""""""""

Configure transaction mode

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|      Name       |Reset|                                                                               Description                                                                               |
    +=====+===+=================+=====+=========================================================================================================================================================================+
    |    0|R/W|AUTO_ENA         |0x0  |Transfer mode in AUTO, IP will configure the UDMA transfer automatically using register parameters instead using SW configuration in UDMA: b0: AUTO_DIS; b1: AUTO_EN     |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|XIP_EN           |0x0  |Transfer mode in XIP, IP will configure the UDMA transfer automatically using XIP parameters  instead using SW configuration in UDMA: b0: XIP_DIS; b1: XIP_EN            |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |3:2  |R  |RESERVED0        |0x0  |--                                                                                                                                                                       |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    4|R/W|STREAM_EN        |0x0  |Transfer mode in noraml mode use STREAM or not, IP will configure the STREAM UDMA transfer automatically to read/write data from/to memory: b0: STREAM_DIS; b1: STREAM_EN|
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    5|R/W|AES_STREAM_EN    |0x0  |Transfer mode in noraml mode use AES STREAM or not, to avoid Read synchronous issue when in AUTO mode: b0: AES_STREAM_DIS; b1: AES_STREAM_EN                             |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |7:6  |R  |RESERVED1        |0x0  |--                                                                                                                                                                       |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    8|R/W|XIP_STREAM_EN    |0x0  |Transfer mode in noraml mode use STREAM or not, IP will configure the STREAM UDMA transfer automatically to read/write data from/to memory: b0: STREAM_DIS; b1: STREAM_EN|
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    9|R/W|XIP_AES_STREAM_EN|0x0  |Transfer mode in noraml mode use AES STREAM or not, to avoid Read synchronous issue when in AUTO mode: b0: AES_STREAM_DIS; b1: AES_STREAM_EN                             |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |11:10|R  |RESERVED2        |0x0  |--                                                                                                                                                                       |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |   12|R/W|XIP_HALTED       |0x0  |Halted XIP refill when in XIP, XIP refill will wait SW unlock this bit: b0: XIP_RUNNING; b1: XIP_HALTED                                                                  |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__TRANS_ADDR:

TRANS_ADDR
""""""""""

Configure each transaction addr

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+----------------------------------------+
    |Bit #|R/W|Name|Reset|              Description               |
    +=====+===+====+=====+========================================+
    |31:0 |R/W|ADDR|0x0  |Transfer addr, only when MODE is in AUTO|
    +-----+---+----+-----+----------------------------------------+

.. _udma_hyper__TRANS_SIZE:

TRANS_SIZE
""""""""""

Configure each transaction size

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+-------------+
    |Bit #|R/W|Name|Reset| Description |
    +=====+===+====+=====+=============+
    |20:0 |R/W|SIZE|0x0  |Transfer Size|
    +-----+---+----+-----+-------------+

.. _udma_hyper__TRANS_CFG:

TRANS_CFG
"""""""""

Start  each transaction rx/tx

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+-----+---------------------------------------------------------------------------------------+
    |Bit #|R/W|Name |Reset|                                      Description                                      |
    +=====+===+=====+=====+=======================================================================================+
    |    0|R/W|RXTX |0x0  |Transfer type: b0: TX; b1: RX                                                          |
    +-----+---+-----+-----+---------------------------------------------------------------------------------------+
    |    1|W  |VALID|0x0  |Transfer valid to start: b0: clear transfer; b1: Start transfer. Read always returns O.|
    +-----+---+-----+-----+---------------------------------------------------------------------------------------+

.. _udma_hyper__OSPI_CMD_XIP:

OSPI_CMD_XIP
""""""""""""

OSPI XIP command and psram command config

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----------------+-----+-----------------------+
    |Bit #|R/W|      Name       |Reset|      Description      |
    +=====+===+=================+=====+=======================+
    |15:0 |R/W|CMD              |0x0  |2 Bytes SPI command    |
    +-----+---+-----------------+-----+-----------------------+
    |22:20|R/W|SDIO_CMD_RSP_TYPE|0x0  |SDIO CMD response type |
    +-----+---+-----------------+-----+-----------------------+
    |29:24|R/W|SDIO_CMD_OP      |0x0  |SDIO CMD operation code|
    +-----+---+-----------------+-----+-----------------------+

.. _udma_hyper__OSPI_CFG_XIP:

OSPI_CFG_XIP
""""""""""""

OSPI XIP configuration

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|    Name    |Reset|                                                                 Description                                                                 |
    +=====+===+============+=====+=============================================================================================================================================+
    |1:0  |R/W|CMD_SIZE    |0x0  |Octo SPI command size (number of bytes, from 0 to 2)                                                                                         |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |6:4  |R/W|ADDR_SIZE   |0x0  |Octo SPI address size (number of bytes, from 0 to 4). If 0, jump ADDRESS stage                                                               |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |9:8  |R/W|LINE        |0x0  |Octo SPI number of lines: b00: 8 lines for Octo SPI; b01: 4 lines for QUAD SPI (sdio{3:0]); b10: 1 line for Single SPI (SI: dq[0]; SO: dq[1])|
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |12   |R/W|CMD_DTR_STR |0x0  |Octo SPI command DDR mode or single mode: b0: DTR mode; b1: STR mode                                                                         |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |13   |R/W|ADDR_DTR_STR|0x0  |Octo SPI address DDR mode or single mode: b0: DTR mode; b1: STR mode                                                                         |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |14   |R/W|DATA_DTR_STR|0x0  |Octo SPI data DDR mode or single mode: b0: DTR mode; b1: STR mode                                                                            |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |15   |R/W|DATA_DTR_MSB|0x0  |Octo SPI data DDR mode data MSB: b0: LSB; b1: MSB                                                                                            |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__EXT_ADDR:

EXT_ADDR
""""""""

Memory access address register.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----------+-----+----------------------+
    |Bit #|R/W|   Name   |Reset|     Description      |
    +=====+===+==========+=====+======================+
    |30:0 |R/W|SADDR     |0x0  |Memory access address.|
    +-----+---+----------+-----+----------------------+
    |31   |R/W|REG_ACCESS|0x0  |Register access flag. |
    +-----+---+----------+-----+----------------------+

.. _udma_hyper__TIMING_CFG:

TIMING_CFG
""""""""""

HYPERBUS and Octo SPI Memory Timing configuration register.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-------------------------------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|             Name              |Reset|                                                                                                                                            Description                                                                                                                                             |
    +=====+===+===============================+=====+====================================================================================================================================================================================================================================================================================================+
    |4:0  |R/W|LATENCY0                       |0x0  |Latency Cycle value for both HyperRAM and HyperFLASH for chip select 0. When using HyperRAM memory, this bit should be set to the same value as the read latency in configuration register of HyperRAM memory. For SPI, it is the number of dummy cycles after ADDRESS stage.                       |
    +-----+---+-------------------------------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |9:5  |R/W|LATENCY1                       |0x0  |Latency Cycle value for both HyperRAM and HyperFLASH for chip select 1. When using HyperRAM memory, this bit should be set to the same value as the read latency in configuration register of HyperRAM memory. For SPI, it is the number of dummy cycles after ADDRESS stage.                       |
    +-----+---+-------------------------------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |13:10|R/W|RW_RECOVERY                    |0x0  |Number of clock cycles for Read-Write-Recovery time (tRWR): some HyperBus devices may require a minimum time between the end of a prior transaction and the start of a new access. The master interface waits this number of cycles before driving CS# low after the completion of the CA1 transfer.|
    +-----+---+-------------------------------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |16:14|R/W|RWDS_DELAY                     |0x0  |Delay (number of clock cycles) of RWDS for center aligned read.                                                                                                                                                                                                                                     |
    +-----+---+-------------------------------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |17   |R/W|ADDITIONAL_LATENCY_AUTOCHECK_EN|0x0  |Autocheck for RWDS high or low for additional latency: b0: no autocheck; b1: autocheck enabled                                                                                                                                                                                                      |
    +-----+---+-------------------------------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |31:18|R/W|CS_MAX                         |0x100|Maximum chip select low time for self-refresh HYPERRAM to valid the data transfer (number of clock cycles)                                                                                                                                                                                          |
    +-----+---+-------------------------------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__MBA0:

MBA0
""""

Device start address register.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+--------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|  Name  |Reset|                                                                                                                                                                                                                   Description                                                                                                                                                                                                                   |
    +=====+===+========+=====+=================================================================================================================================================================================================================================================================================================================================================================================================================================================+
    |23:0 |R  |reserved|0x0  |--                                                                                                                                                                                                                                                                                                                                                                                                                                               |
    +-----+---+--------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |30:24|R/W|MBA0    |0x0  |Memory Base Address 0 for both RAM and FLASH bitfield. The base address of addressable region to each memory is set up. Since register can be set in 16M bytes boundary, lower 24 bits are fixed to 0. MBA0 can be greater than MBA1. Used chip select depends on the relationship between MBA0, MBA1 and EXT_ADDR: if MBA0 < MBA1, if MBA1 <= EXT_ADDR then CS1 = 0 else CS0 = 0; if MBA0 > MBA1, if MBA0 <= EXT_ADDR then CS0 = 0 else CS1 = 0.|
    +-----+---+--------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__MBA1:

MBA1
""""

Device start address register.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+--------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|  Name  |Reset|                                                                                                                                                                                                                    Description                                                                                                                                                                                                                     |
    +=====+===+========+=====+====================================================================================================================================================================================================================================================================================================================================================================================================================================================+
    |23:0 |R  |reserved|0x0  |--                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    +-----+---+--------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |30:24|R/W|MBA1    |0x0  |Memory Base Address  for both RAM and FLASH bitfield. The base address of addressable region to each memory is set up. Since register can be set in 16M bytes boundary, lower 24 bits are fixed to 0. MBA0 can be greater than MBA1. Used chip select depends on the relationship between MBA0, MBA1 and EXT_ADDR: if MBA0 < MBA1, if MBA1 <= EXT_ADDR then CSn1 = 0 else CSn0 = 0; if MBA0 > MBA1, if MBA0 <= EXT_ADDR then CSn0 = 0 else CSn1 = 0.|
    +-----+---+--------+-----+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__DEVICE:

DEVICE
""""""

Device type register(RAM or FLASH).

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+--------------------------------------------------+
    |Bit #|R/W|Name|Reset|                   Description                    |
    +=====+===+====+=====+==================================================+
    |    0|R/W|TYPE|0x0  |Device type: b0: Octo/Single SPI; b1: HYPERBUS    |
    +-----+---+----+-----+--------------------------------------------------+
    |    1|R/W|DT0 |0x0  |When in HYPERBUS mode: b0: HYPERRAM; b1: HYPERLASH|
    +-----+---+----+-----+--------------------------------------------------+
    |    2|R/W|DT1 |0x0  |When in HYPERBUS mode: b0: HYPERRAM; b1: HYPERLASH|
    +-----+---+----+-----+--------------------------------------------------+
    |    3|R/W|SDIO|0x0  |SDIO mode                                         |
    +-----+---+----+-----+--------------------------------------------------+

.. _udma_hyper__OSPI_CMD:

OSPI_CMD
""""""""

OSPI command and psram command config

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----------------+-----+-----------------------+
    |Bit #|R/W|      Name       |Reset|      Description      |
    +=====+===+=================+=====+=======================+
    |15:0 |R/W|CMD              |0x0  |2 Bytes SPI command    |
    +-----+---+-----------------+-----+-----------------------+
    |22:20|R/W|SDIO_CMD_RSP_TYPE|0x0  |SDIO CMD response type |
    +-----+---+-----------------+-----+-----------------------+
    |29:24|R/W|SDIO_CMD_OP      |0x0  |SDIO CMD operation code|
    +-----+---+-----------------+-----+-----------------------+

.. _udma_hyper__OSPI_ALTER:

OSPI_ALTER
""""""""""

OSPI alternative 2 bytes

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+-----+-----------------------+
    |Bit #|R/W|Name |Reset|      Description      |
    +=====+===+=====+=====+=======================+
    |15:0 |R/W|MODE0|0x0  |2 Bytes SPI alternative|
    +-----+---+-----+-----+-----------------------+
    |31:16|R/W|MODE1|0x0  |2 Bytes SPI alternative|
    +-----+---+-----+-----+-----------------------+

.. _udma_hyper__OSPI_CFG:

OSPI_CFG
""""""""

OSPI configuration

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|    Name    |Reset|                                                                 Description                                                                 |
    +=====+===+============+=====+=============================================================================================================================================+
    |1:0  |R/W|CMD_SIZE    |0x0  |Octo SPI command size (number of bytes, from 0 to 2)                                                                                         |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |6:4  |R/W|ADDR_SIZE   |0x0  |Octo SPI address size (number of bytes, from 0 to 4). If 0, jump ADDRESS stage                                                               |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |9:8  |R/W|LINE        |0x0  |Octo SPI number of lines: b00: 8 lines for Octo SPI; b01: 4 lines for QUAD SPI (sdio{3:0]); b10: 1 line for Single SPI (SI: dq[0]; SO: dq[1])|
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |12   |R/W|CMD_DTR_STR |0x0  |Octo SPI command DDR mode or single mode: b0: DTR mode; b1: STR mode                                                                         |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |13   |R/W|ADDR_DTR_STR|0x0  |Octo SPI address DDR mode or single mode: b0: DTR mode; b1: STR mode                                                                         |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |14   |R/W|DATA_DTR_STR|0x0  |Octo SPI data DDR mode or single mode: b0: DTR mode; b1: STR mode                                                                            |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+
    |15   |R/W|DATA_DTR_MSB|0x0  |Octo SPI data DDR mode data MSB: b0: LSB; b1: MSB                                                                                            |
    +-----+---+------------+-----+---------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__OSPI_CSN:

OSPI_CSN
""""""""

OSPI chip select configuration

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|       Name       |Reset|                                                                      Description                                                                      |
    +=====+===+==================+=====+=======================================================================================================================================================+
    |    0|R/W|INDEX             |0x0  |Octo SPI chip select index controlled by user: b0: CSN0; b1: CSN1                                                                                      |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|AUTO_EN           |0x0  |Octo SPI chip select controlled by IP automatically: b0: IP control CSN according to index; b1: IP control CSN according to address range automatically|
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    2|R  |SET_CSN_VALID     |0x0  |--                                                                                                                                                     |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    3|R/W|POLARITY          |0x0  |Octo SPI chip select polarity: b0: csn is active low; b1: csn is active high                                                                           |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    4|R/W|DIRECT_CTRL       |0x0  |Octo SPI chip select controlled by user enable GPIO mode: b0: IP control CSN according to index; b1: USER control CSN in GPIO mode                     |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    5|R/W|VALUE             |0x0  |Octo SPI chip select value controlled by user: b0: high; b1: low                                                                                       |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    6|R/W|SDIO_DATA_QUAD    |0x0  |SDIO data quad enable: b0: Disable; b1: Enable                                                                                                         |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |    7|R/W|SDIO_DATA_QUAD_DDR|0x0  |SDIO data quad DDR enable: b0: Disable; b1: Enable                                                                                                     |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |15:8 |R/W|SDIO_BLOCK_NUM    |0x0  |SDIO data block number                                                                                                                                 |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |25:16|R/W|SDIO_BLOCK_SIZE   |0x0  |SDIO data block size                                                                                                                                   |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+
    |   26|R/W|SDIO_AUTO_STOP    |0x1  |SDIO enable HW auto stop  after multiple read and write: b0: Disable; b1: Enable                                                                       |
    +-----+---+------------------+-----+-------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__OSPI_JEDEC_RESET:

OSPI_JEDEC_RESET
""""""""""""""""

OSPI JEDEC Hardware Reset, user can control sdo0 manually

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+--------------------+-----+----------------------------------------------------------------------------------------+
    |Bit #|R/W|        Name        |Reset|                                      Description                                       |
    +=====+===+====================+=====+========================================================================================+
    |    0|R/W|USER_CTRL_SDO0_EN   |0x0  |Octo SPI chip in JEDEC reset mode enable: b0: JEDEC reset disable; b1: USER control sdo0|
    +-----+---+--------------------+-----+----------------------------------------------------------------------------------------+
    |    1|R/W|USER_CTRL_SDO0_VALUE|0x0  |Octo SPI chip in JEDEC reset mode, sdo0 value                                           |
    +-----+---+--------------------+-----+----------------------------------------------------------------------------------------+

.. _udma_hyper__OSPI_RAM_OPT:

OSPI_RAM_OPT
""""""""""""

OSPI RAM DATA transfer optimisation, only in auto mode

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|           Name           |Reset|                                                                                                   Description                                                                                                    |
    +=====+===+==========================+=====+==================================================================================================================================================================================================================+
    |1:0  |R/W|OPT_READ_EN_CS            |0x0  |Octo SPI RAM optimisation read enable for CS0, special when no accross boundary rwds latency for each channel: b0: disable; b1: enable                                                                            |
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |3:2  |R/W|REAL_ADDR_EN              |0x0  |Octo SPI or single SPI which use real address instead of address/2 for each channel: b0: disable; b1: enable                                                                                                      |
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |5:4  |R/W|PSRAM_READ_BIT            |0x0  |PSRAM CMD automatically reform -- CMD bit[47] R/W# -- Read is 1 or 0 for each channel                                                                                                                             |
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |7:6  |R/W|PSRAM_CMD_EN              |0x0  |PSRAM CMD automatically reform enable for each channel                                                                                                                                                            |
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |9:8  |R/W|PSRAM_ADDR_EVEN           |0x0  |PSRAM even address reform for each channel                                                                                                                                                                        |
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |11:10|R/W|PSRAM_CROSS_BOUNDARY_EN0  |0x0  |PSRAM cross boundary access (CBD) optimisation R/W enable for channle CS0: b00: Both read write can CBD. b01: read cannot CBD, write can CBD; b10: read can CBD, write cannot CBD; b11: Both read write ca not CBD|
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |13:12|R/W|PSRAM_CROSS_BOUNDARY_EN1  |0x0  |PSRAM cross boundary access (CBD) optimisation R/W enable for channle CS0: b00: Both read write can CBD; b01: read cannot CBD, write can CBD; b10: read can CBD, write cannot CBD; b11: Both read write cannot CBD|
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |15:14|R/W|PSRAM_CROSS_BOUNDARY_PAGE0|0x0  |PSRAM cross boundary access optimisation page for channle CS0: b00: 256B; b01: 512B; b10: 1KB; b11: 2KB                                                                                                           |
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    |17:16|R/W|PSRAM_CROSS_BOUNDARY_PAGE1|0x0  |PSRAM cross boundary access optimisation page for channle CS1: b00: 256B; b01: 512B; b10: 1KB; b11: 2KB                                                                                                           |
    +-----+---+--------------------------+-----+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__OSPI_ALTER_XIP:

OSPI_ALTER_XIP
""""""""""""""

OSPI XIP alternative 2 bytes

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+-----+-----------------------+
    |Bit #|R/W|Name |Reset|      Description      |
    +=====+===+=====+=====+=======================+
    |15:0 |R/W|MODE0|0x0  |2 Bytes SPI alternative|
    +-----+---+-----+-----+-----------------------+
    |31:16|R/W|MODE1|0x0  |2 Bytes SPI alternative|
    +-----+---+-----+-----+-----------------------+

.. _udma_hyper__OSPI_REG_XIP:

OSPI_REG_XIP
""""""""""""

OSPI XIP other configuration

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------------+-----+--------------------+
    |Bit #|R/W|    Name    |Reset|    Description     |
    +=====+===+============+=====+====================+
    |4:0  |R/W|XIP_LATENCY0|0x0  |XIP latency0 for cs0|
    +-----+---+------------+-----+--------------------+
    |9:5  |R/W|XIP_LATENCY1|0x0  |XIP latency1 for cs1|
    +-----+---+------------+-----+--------------------+

.. _udma_hyper__LINE_2D:

LINE_2D
"""""""

OSPI 2D line.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+-----------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|Name|Reset|                                                Description                                                |
    +=====+===+====+=====+===========================================================================================================+
    |20:0 |R/W|LINE|0x0  |OSPI 2D line with 2D mode. For example, ADDR = START_ADDR + i * BURST_STRIDE. Normally, LINE >= BURST_SIZE.|
    +-----+---+----+-----+-----------------------------------------------------------------------------------------------------------+

.. _udma_hyper__STRIDE_2D:

STRIDE_2D
"""""""""

OSPI 2D stride.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+---------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |Reset|                                                  Description                                                  |
    +=====+===+======+=====+===============================================================================================================+
    |20:0 |R/W|STRIDE|0x0  |OSPI 2D stride with 2D mode. For example, ADDR = START_ADDR + i * BURST_STRIDE. Normally, STRIDE >= BURST_SIZE.|
    +-----+---+------+-----+---------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__BURST_ENABLE:

BURST_ENABLE
""""""""""""

OSPI burst mode/2D mode enable.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------------------------+-----+--------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|          Name          |Reset|                                                                Description                                                                 |
    +=====+===+========================+=====+============================================================================================================================================+
    |    0|R/W|CS0_AUTO_BURST_ENABLE   |0x0  |Automatically control Maximum chip select low time for self-refresh HYPERRAM to valid the data transfer for channel 0: b0 disable; b1 enable|
    +-----+---+------------------------+-----+--------------------------------------------------------------------------------------------------------------------------------------------+
    |    1|R/W|CS1_AUTO_BURST_ENABLE   |0x0  |Automatically control Maximum chip select low time for self-refresh HYPERRAM to valid the data transfer for channel 1: b0 disable; b1 enable|
    +-----+---+------------------------+-----+--------------------------------------------------------------------------------------------------------------------------------------------+
    |    2|R/W|CS0_MAXIMUM_CHECK_ENABLE|0x0  |Enable Maximum chip select low time for self-refresh HYPERRAM for channel 0: b0: disable; b1: enable                                        |
    +-----+---+------------------------+-----+--------------------------------------------------------------------------------------------------------------------------------------------+
    |    3|R/W|CS1_MAXIMUM_CHECK_ENABLE|0x0  |Enable Maximum chip select low time for self-refresh HYPERRAM for channel 1: b0: disable; b1: enable                                        |
    +-----+---+------------------------+-----+--------------------------------------------------------------------------------------------------------------------------------------------+
    |5:4  |R/W|QSPI_2D_ENABLE          |0x0  |OSPI burst 2D mode enable for normal mode and XIP: b0: disable; b1: enable                                                                  |
    +-----+---+------------------------+-----+--------------------------------------------------------------------------------------------------------------------------------------------+
    |7:6  |R/W|L2_2D_MODE              |0x0  |2D tansfer mode from L2 to external memory config: b00: 1D_TO_1D; b01: 1D_TO_2D; b10: 2D_TO_1D; b11: 2D_TO_2D                               |
    +-----+---+------------------------+-----+--------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__IRQ_EN:

IRQ_EN
""""""

OSPI interrupt enable register

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+------+-----+--------------------------------------------------------------------------------------+
    |Bit #|R/W| Name |Reset|                                     Description                                      |
    +=====+===+======+=====+======================================================================================+
    |    0|R/W|EN    |0x0  |Octo SPI interrupt enable control: b0: interrupt disable; b1: Interrupt enable        |
    +-----+---+------+-----+--------------------------------------------------------------------------------------+
    |    1|R/W|XIP_EN|0x0  |Octo SPI interrupt enable control for XIP: b0: interrupt disable; b1: Interrupt enable|
    +-----+---+------+-----+--------------------------------------------------------------------------------------+

.. _udma_hyper__CLK_DIV:

CLK_DIV
"""""""

Clock divide.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----+-----+-----------------------------------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|Name |Reset|                                                                     Description                                                                     |
    +=====+===+=====+=====+=====================================================================================================================================================+
    |7:0  |R/W|DATA |0x0  |Clock divider ratio (0-255): PERIPH clock frequency is divided by pow2(DATA)                                                                         |
    +-----+---+-----+-----+-----------------------------------------------------------------------------------------------------------------------------------------------------+
    |8    |W  |VALID|0x0  |Clock divider valid, user cannot control. Every time there is clock divide write access, set 1 by default, then when clock divide is finished, set 0.|
    +-----+---+-----+-----+-----------------------------------------------------------------------------------------------------------------------------------------------------+

.. _udma_hyper__STATUS:

STATUS
""""""

Transfer status for error.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+
    |Bit #|R/W|      Name       |Reset|                                        Description                                        |
    +=====+===+=================+=====+===========================================================================================+
    |    0|R  |TX_ERROR         |0x0  |TX transfer error because of tcsm, write 1 to clear: b0: no error; b1: error               |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+
    |    1|R  |RX_ERROR         |0x0  |RX transfer error because of tcsm, write 1 to clear: b0: no error; b1: error               |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+
    |    2|R  |RX_TX_END        |0x0  |RX TX transfer end flag, can be polled by user, write 1 to clear: b0: not end; b1: end     |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+
    |    3|R  |SDIO_RX_TX_ERROR |0x0  |SDIO RX TX transfer error because of tcsm, write 1 to clear: b0: no error; b1: error       |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+
    |    4|R  |SDIO_RX_TX_END   |0x0  |SDIO RX TX transfer end flag, can be polled by user, write 1 to clear: b0: not end; b1: end|
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+
    |15:5 |R  |reserved         |0x0  |--                                                                                         |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+
    |31:16|R  |SDIO_ERROR_STATUS|0x0  |SDIO error status flag, indicate the error type                                            |
    +-----+---+-----------------+-----+-------------------------------------------------------------------------------------------+

.. _udma_hyper__SDIO_CMD_ARG:

SDIO_CMD_ARG
""""""""""""

SDIO command argument.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+---------------------+
    |Bit #|R/W|Name|Reset|     Description     |
    +=====+===+====+=====+=====================+
    |31:0 |R/W|ARG |0x0  |SDIO command argument|
    +-----+---+----+-----+---------------------+

.. _udma_hyper__SDIO_RSP0:

SDIO_RSP0
"""""""""

SDIO response 0.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+---------------+
    |Bit #|R/W|Name|Reset|  Description  |
    +=====+===+====+=====+===============+
    |31:0 |R  |RSP0|0x0  |SDIO response 0|
    +-----+---+----+-----+---------------+

.. _udma_hyper__SDIO_RSP1:

SDIO_RSP1
"""""""""

SDIO response 1.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+---------------+
    |Bit #|R/W|Name|Reset|  Description  |
    +=====+===+====+=====+===============+
    |31:0 |R  |RSP1|0x0  |SDIO response 1|
    +-----+---+----+-----+---------------+

.. _udma_hyper__SDIO_RSP2:

SDIO_RSP2
"""""""""

SDIO response 2.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+---------------+
    |Bit #|R/W|Name|Reset|  Description  |
    +=====+===+====+=====+===============+
    |31:0 |R  |RSP2|0x0  |SDIO response 2|
    +-----+---+----+-----+---------------+

.. _udma_hyper__SDIO_RSP3:

SDIO_RSP3
"""""""""

SDIO response 3.

.. table:: 
    :align: center
    :widths: 13 12 45 24 85

    +-----+---+----+-----+---------------+
    |Bit #|R/W|Name|Reset|  Description  |
    +=====+===+====+=====+===============+
    |31:0 |R  |RSP3|0x0  |SDIO response 3|
    +-----+---+----+-----+---------------+
